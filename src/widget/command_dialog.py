#!/usr/bin/env python
# -*- coding: utf-8 -*-

from PySide6.QtCore import Qt
from PySide6.QtWidgets import QDialog, QComboBox


class CommandDialog(QDialog):
    CODE_DESCRIBE = {
        0x00: '区块 - 区块号 BLOCK',
        0x01: '区块 - 结束符 STOP',
        0x02: '条件 - 单项判断 IF',
        0x03: '条件 - 多项判断 ANY',
        0x04: '条件 - 判断为真 THEN',
        0x05: '条件 - 判断为假 ELSE',
        0x06: '条件 - 判断结束 ENDIF',
        0x08: '流程 - 跳转定位 GOTO',
        0x09: '流程 - 执行定位 RUN',
        0x0A: '流程 - 执行回调 RETURN',
        0x0B: '流程 - 载入配置 LOAD',
        0x0C: '事件 - 触发全局事件',
        0x0D: '事件 - 触发场景事件',
        0x0E: '事件 - 操作场景点数',
        0x0F: '事件 - 操作全局点数',
        0x10: '事件 - 判断全局事件',
        0x11: '事件 - 判断场景事件',
        0x12: '事件 - 场景点数比较',
        0x13: '事件 - 全局点数比较',
        0x14: '判断 - 真实系为真',
        0x15: '判断 - 超级系为真',
        0x16: '判断 - 必定返回假',
        0x17: '文本 - 普通会话',
        0x18: '文本 - 变量会话',
        0x19: '文本 - 语音会话',
        0x1A: '文本 - 最终话不同主角对战BOSS切换',
        0x1B: '文本 - 最终话主角对战BOSS会话',
        0x1C: '文本 - 播放音乐会话',
        0x1D: '文本 - 停止音乐会话',
        0x1E: '文本 - 胜利与失败文本',
        0x1F: '文本 - 选项会话',
        0x21: '文本 - 判断选项',
        0x22: '剧情 - 场景胜利',
        0x23: '剧情 - 场景失败',
        0x24: '剧情 - 选择下一关卡',
        0x25: '剧情 - 判断当前回合数',
        0x26: '剧情 - 设定场景音乐',
        0x27: '剧情 - 播放指定音乐',
        0x28: '剧情 - 场景音乐复位',
        0x29: '剧情 - 播放音效',
        0x2A: '剧情 - 播放动画',
        0x2B: '剧情 - 静止等待',
        0x2C: '出击 - 敌方列表组出击',
        0x2D: '出击 - 敌方列表组出击到机师相对坐标',
        0x2F: '出击 - 敌方列表组再次出击',
        0x30: '机库 - 机库开启',
        0x31: '机库 - 机库关闭',
        0x32: '机库 - 增加机体',
        0x33: '机库 - 机体离队',
        0x34: '机库 - 机体归队',
        0x35: '机库 - 刪除机体',
        0x36: '机库 - 替换机体',
        0x37: '机库 - 增加机师',
        0x38: '机库 - 机师离队',
        0x39: '机库 - 机师归队',
        0x3A: '机库 - 删除机师',
        0x3B: '机库 - 替换机师',
        0x3C: '未知',
        0x3D: '机库 - 增加机体机师或强制换乘',
        0x3E: '机库 - 机师分流',
        0x3F: '机库 - 机体合流',
        0x40: '机库 - 机师合流',
        0x41: '机库 - 机体归队',
        0x42: '机库 - 机师离队',
        0x43: '机库 - 强制换乘',
        0x44: '机库 - 换乘空机体',
        0x45: '机库 - 取消机师乘坐',
        0x46: '机库 - 增加机体',
        0x47: '机库 - 机师强制出场',
        0x48: '机库 - 指定妖精搭配',
        0x49: '机库 - 隐藏机师',
        0x4A: '机库 - 隐藏机体',
        0x4B: '机库 - 换乘空机体',
        0x4E: '机库 - 合体允许分离',
        0x4F: '出击 - 出击开启',
        0x50: '出击 - 出击关闭',
        0x51: '出击 - 机师出击到绝对坐标',
        0x52: '出击 - 机师出击到相对坐标',
        0x54: '出击 - 机体出击到绝对坐标',
        0x55: '出击 - 机体出击到相对坐标',
        0x57: '出击 - 本方部队出击到绝对坐标',
        0x58: '出击 - 本方部队出击到相对坐标',
        0x5A: '出击 - 本方母舰出击到绝对坐标',
        0x5B: '机师 - 设定机师等级',
        0x5C: '机师 - 增加机师等级',
        0x5D: '机师 - 设定机师击坠',
        0x5E: '机师 - 增加机师击坠',
        0x5F: '阵营 - 敌方机师加入',
        0x60: '阵营 - 设定机师阵营',
        0x61: '资源 - 增加芯片',
        0x62: '未知',
        0x63: '未知',
        0x64: '资源 - 增加资金',
        0x65: '复活 - 复活机师',
        0x66: '复活 - 复活机体',
        0x67: '移动 - 移动机师到绝对坐标',
        0x68: '移动 - 移动机师到相对坐标',
        0x69: '移动 - 移动机师到敌方坐标',
        0x6A: '移动 - 移动光标到绝对坐标',
        0x6B: '移动 - 移动光标到相对坐标',
        0x6C: '移动 - 移动光标到绝对坐标后闪烁',
        0x6E: '移动 - 屏幕静止',
        0x6F: '撤退 - 指定机师撤退',
        0x70: '撤退 - 敌方单位撤退',
        0x71: '撤退 - 敌方小组撤退',
        0x72: '撤退 - 指定势力撤退',
        0x73: '撤退 - 指定阵营撤退',
        0x74: '撤退 - 指定阵营撤退到坐标区域',
        0x75: '判断 - 机师状态',
        0x77: '判断 - 机体状态',
        0x78: '判断 - 机师是否搭载',
        0x79: '判断 - 敌方小组剩余数量',
        0x7A: '判断 - 指定势力剩余数量',
        0x7B: '判断 - 指定阵营剩余数量',
        0x7C: '判断 - 指定机师所处坐标区域',
        0x7D: '判断 - 敌方单位所处坐标区域',
        0x7E: '判断 - 指定机体所处坐标区域',
        0x80: 'hhhhh',
        0x81: 'hhhhh',
        0x82: 'hhh',
        0x83: 'hbbh',
        0x84: 'hh',
        0x85: 'hh',
        0x86: 'hh',
        0x87: '',
        0x88: 'hh',
        0x89: 'hh',
        0x8B: 'hh',
        0x8C: 'hhh',
        0x8D: 'hh',
        0x8E: 'h',
        0x8F: 'h',
        0x90: 'hhh',
        0x91: 'bbhh',
        0x92: 'hhhhh',
        0x93: 'hbbhhh',
        0x94: 'bbhhhh',
        0x96: 'hhhhhhhhhh',
        0x97: 'bbhhhhhhhhh',
        0x98: 'hbbhhhhhhhh',
        0x99: '',
        0x9A: 'hh',
        0x9B: 'hh',
        0x9C: 'hh',
        0x9D: 'bbh',
        0x9E: 'hh',
        0x9F: 'h',
        0xA0: 'bb',
        0xA1: 'h',
        0xA2: 'h',
        0xA3: 'h',
        0xA4: 'h',
        0xA5: 'hh',
        0xA6: 'h',
        0xA7: 'h',
        0xA8: 'hhhh',
        0xA9: 'hh',
        0xAA: 'h',
        0xAB: 'hh',
        0xAC: 'hbb',
        0xAD: 'hh',
        0xAE: 'hbb',
        0xAF: 'hh',
        0xB0: 'hbb',
        0xB1: 'h',
        0xB2: 'bb',
        0xB3: 'h',
        0xB4: 'h',
        0xB5: 'h',
        0xB6: 'hh',
        0xB7: 'h',
        0xB8: 'bb',
        0xB9: '',
        0xBA: 'hhh',
        0xBB: 'hhhh',
    }

    def __init__(self, parent, command: dict = None):
        super(CommandDialog, self).__init__(parent, f=Qt.Dialog)
        self.command = command if command else {'Pos': 0x0, 'Code': 0x0, 'Count': 0x1, 'Param': list(), 'Data': ''}
        self.code_combo = self.code_combo

    def code_combo(self):
        combo = QComboBox(self)
        return combo
